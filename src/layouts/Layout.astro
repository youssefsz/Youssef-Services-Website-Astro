---
import "../styles/global.css";

interface Props {
    title?: string;
    description?: string;
    image?: string;
}

const {
    title = "Youssef Dhibi | Software Services",
    description = "Premium software development services. Apps, APIs, platforms, automation, and AI tools. Built by an indie developer with 100% satisfaction.",
    image = "/og-img.png",
} = Astro.props;

const siteUrl = "https://dhibi.tn";
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="/favicons/apple-touch-icon.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="/favicons/favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="/favicons/favicon-16x16.png"
        />
        <link rel="manifest" href="/favicons/site.webmanifest" />
        <link rel="shortcut icon" href="/favicons/favicon.ico" />

        <!-- Canonical URL -->
        <link
            rel="canonical"
            href={new URL(Astro.url.pathname, siteUrl).href}
        />

        <!-- SEO Meta Tags -->
        <title>{title}</title>
        <meta name="description" content={description} />
        <meta name="author" content="Youssef Dhibi" />
        <meta name="robots" content="index, follow" />

        <!-- Open Graph -->
        <meta property="og:type" content="website" />
        <meta
            property="og:url"
            content={new URL(Astro.url.pathname, siteUrl).href}
        />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:site_name" content="Youssef Dhibi Services" />
        <meta property="og:image" content={new URL(image, siteUrl).href} />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="630" />
        <meta property="og:image:alt" content={title} />

        <!-- Theme Color -->
        <meta name="theme-color" content="#000000" />

        <!-- Preconnect to Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

        <meta name="generator" content={Astro.generator} />

        <!-- JSON-LD Structured Data -->
        <script
            type="application/ld+json"
            is:inline
            set:html={JSON.stringify({
                "@context": "https://schema.org",
                "@graph": [
                    {
                        "@type": "WebSite",
                        name: "Youssef Dhibi Services",
                        url: siteUrl,
                        description: description,
                        image: new URL(image, siteUrl).href,
                    },
                    {
                        "@type": "Person",
                        name: "Youssef Dhibi",
                        url: siteUrl,
                        jobTitle: "Software Engineer",
                        image: new URL(image, siteUrl).href,
                        sameAs: [
                            "https://github.com/youssefsz",
                            "https://www.linkedin.com/in/youssefsz",
                            "https://www.facebook.com/youssefszz",
                            "https://apps.apple.com/us/developer/youssef-dhibi/id1855868676",
                            "https://www.upwork.com/freelancers/youssefsz",
                        ],
                    },
                ],
            })}
        />
    </head>
    <body class="min-h-screen">
        <slot />
    </body>
</html>
