---
interface Props {
    title: string;
    description: string;
    category: string;
    icon?: string;
    index?: number;
}

const { title, description, category, icon = "code", index = 0 } = Astro.props;

const icons: Record<string, string> = {
    code: `<path stroke-linecap="square" stroke-linejoin="miter" stroke-width="1.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>`,
    mobile: `<path stroke-linecap="square" stroke-linejoin="miter" stroke-width="1.5" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>`,
    api: `<path stroke-linecap="square" stroke-linejoin="miter" stroke-width="1.5" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>`,
    ai: `<path stroke-linecap="square" stroke-linejoin="miter" stroke-width="1.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>`,
    automation: `<path stroke-linecap="square" stroke-linejoin="miter" stroke-width="1.5" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>`,
    cloud: `<path stroke-linecap="square" stroke-linejoin="miter" stroke-width="1.5" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"/>`,
};

const iconPath = icons[icon] || icons.code;
---

<article class="service-card group" style={`animation-delay: ${index * 0.1}s`}>
    <!-- Index Number -->
    <div class="number-display mb-6">
        {String(index + 1).padStart(2, "0")}
    </div>

    <!-- Icon -->
    <div
        class="w-12 h-12 border border-white/10 flex items-center justify-center mb-6 group-hover:border-accent transition-colors"
    >
        <svg
            class="w-6 h-6 text-white group-hover:text-accent transition-colors"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            set:html={iconPath}
        />
    </div>

    <!-- Category Tag -->
    <div class="category-tag mb-4">
        {category}
    </div>

    <!-- Title -->
    <h3
        class="font-display font-bold text-xl uppercase tracking-wide mb-4 group-hover:text-accent transition-colors"
    >
        {title}
    </h3>

    <!-- Description -->
    <p class="text-muted text-sm leading-relaxed mb-6">
        {description}
    </p>

    <!-- Learn More Link -->
    <a
        href="#contact"
        class="inline-flex items-center gap-2 text-xs uppercase tracking-widest text-muted group-hover:text-accent transition-colors"
    >
        <span>Learn More</span>
        <svg
            class="w-4 h-4 transform group-hover:translate-x-1 transition-transform"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
        >
            <path
                stroke-linecap="square"
                stroke-linejoin="miter"
                stroke-width="2"
                d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
    </a>

    <!-- Hover Glow Effect -->
    <div
        class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"
    >
        <div
            class="absolute -top-px -left-px -right-px -bottom-px border border-accent/20"
        >
        </div>
    </div>
</article>

<style>
    .font-display {
        font-family: var(--font-display);
    }

    .text-accent {
        color: var(--accent);
    }

    .border-accent {
        border-color: var(--accent);
    }
</style>
